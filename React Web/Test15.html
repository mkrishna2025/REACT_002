<html> 
 <header> 
     <meta charset="utf-8" /> 
     <script src="react.js"></script> 
     <script src="react-dom.js"></script> 
     <script src="babel.min.js"></script>
	 <link rel="stylesheet" href="Test13.css" />
 </header> 
 <body> 
 	<div id="root"> 
 	</div> 
 	 <script type="text/babel">
		class TestComponent extends React.Component {
			constructor(props){
				super(props);
				this.state = {
					userName: '',
					password: '',
					errorUserName: '',
					errorPassword: '',
					errorMessages: [ ]
				}
			}
			loginClick(){
				var isValid = true;
				debugger;
				var messages = [];
				
				var errorMessageForUserName = '';
				var errorMessageForPassword = '';
				
				if(this.state.userName == '') {
					errorMessageForUserName = 'Please Enter User Name';
					messages.push(errorMessageForUserName);
					isValid = false;
				}
				
				if(this.state.password == '') {
					errorMessageForPassword = 'Please Enter Password';
					messages.push(errorMessageForPassword);
					isValid = false;
				}
				
				if(isValid) {
					var json = {
						userName: this.state.userName,
						password: this.state.password
					}
					alert(JSON.stringify(json));
				} else {
					this.setState( { errorUserName : errorMessageForUserName, errorPassword: errorMessageForPassword, errorMessages: messages });
				}
				
				
			}
			render(){
				var style = { color: "blue" };
				var redStyle =  { color: "red" };
				return (
					<div>
						<h3>{this.props.welcomeText}</h3>
						<div>
							<label>User Name</label>
							<input type="text" id="userName" name="userName" placeholder="Your name.." onChange={ event => this.state.userName = event.target.value } />
							<span className="test"> {this.state.errorUserName}</span>
							<br/>
							<label>Last Name</label>
							<input type="text" id="password" name="password" placeholder="Your Password.." onChange={ event => this.state.password = event.target.value } />
							<span className="test"> {this.state.errorPassword}</span>
							<br/>
							<ul>
								{this.state.errorMessages.map(message => <li style={ redStyle }> {message} </li>)}
							</ul>
							<input type="button" value="Login" onClick={this.loginClick.bind(this)} />
							
						</div>
					</div>
				);
			}
		}
 		ReactDOM.render(<TestComponent welcomeText="Please Login to Continue"/>, document.getElementById('root')); 
 	 </script> 
 </body>  
</html> 
